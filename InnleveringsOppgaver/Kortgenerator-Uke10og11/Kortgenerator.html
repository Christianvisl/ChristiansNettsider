<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kortgenerator</title>
</head>

<style>
    body {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
    }

    #dataDiv {
        border-radius: 20px;
        background-color: white;
        border: solid 3px black;
        padding: 0px 50px 0px 50px;
        text-align: left;
        align-items: left;
        display: flex;
        flex-direction: column;
    }

    #dataDiv>div {
        display: flex;
        flex-direction: column;
        margin-bottom: 10px;
        align-items: left;
    }

    label {
        font-size: 20px;
        margin-top: 5px;
    }

    #kanttypeDiv {
        text-align: left;
    }

    #kanttypeDiv>label {
        font-size: 15px;
    }

    #kortDiv {
        grid-column: span 3;
    }

    #kort {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 50%;
        height: 50%;
        background-color: blue;
    }

    #kort>div {
        position: inherit;
    }

    #kort-navn {
        font-size: 40px;
    }

    #kort-kjonn,
    #kort-stilling,
    #kort-adresse,
    #kort-telefonnummer,
    #kort-email,
    #kort-dato {
        font-size: 20px;
    }
</style>


<body>
    <div id="dataDiv">
        <div>
            <label for="navn">Navn:</label>
            <input name="navn" id="navnInp" type="text" onkeyup="oppdater('navn')">
        </div>

        <div>
            <label for="kjonn">Kj√∏nn;</label>
            <select name="kjonn" id="kjonnInp" onmouseup="oppdater('kjonn')">
                <option value="Mann">Mann</option>
                <option value="Dame">Dame</option>
                <option value="Annet">Annet</option>
            </select>
        </div>

        <div>
            <label for="stilling">Stilling</label>
            <input name="stilling" id="stillingInp" type="text" onkeyup="oppdater('stilling')">
        </div>

        <div>
            <label for="adresse">Adresse:</label>
            <input name="adresse" id="adresseInp" type="text" onkeyup="oppdater('adresse')">
        </div>

        <div>
            <label for="telefonnummer">Telefonnummer:</label>
            <input name="telefonnummer" id="telefonnummerInp" type="tel" onkeyup="oppdater('telefonnummer')">
        </div>

        <div>
            <label for="email">Email:</label>
            <input name="email" id="emailInp" type="email" onkeyup="oppdater('email')">
        </div>

        <div>
            <label for="dato">Dato:</label>
            <input name="dato" id="datoInp" type="date" onkeyup="oppdater('dato')">
        </div>

        <div>
            <label for="bakgrunnsfarge">Bakgrunnsfarge:</label>
            <input name="bakgrunnsfarge" id="bakgrunnsfargeInp" type="color">
        </div>

        <div>
            <label for="tekstfarge">Tekstfarge:</label>
            <input name="tekstfarge" id="tekstfargeInp" type="color">
        </div>

        <div>
            <label for="kantfarge">Kantfarge:</label>
            <input name="kantfarge" id="kantfargeInp" type="color">
        </div>

        <div>
            <label for="kanttype">Kanttype:</label>
            <div id="kanttypeDiv">
                <input type="radio" id="kanttype1" name="kanttype" value="solid">
                <label for="kanttype1">Heltrukket</label>
                <br>
                <input type="radio" id="kanttype2" name="kanttype" value="dotted">
                <label for="kanttype2">Striplet</label>
                <br>
                <input type="radio" id="kanttype3" name="kanttype" value="double">
                <label for="kanttype3">Dobbel</label>
            </div>
        </div>

        <button style="margin-bottom: 10px;" onclick="oppdater('stil')">Lagre</button>
    </div>


    <div id="kortDiv">
        <div id="kort">
            <div id="kort-navn"></div>
            <div id="kort-kjonn"></div>
            <div id="kort-stilling"></div>
            <div id="kort-adresse"></div>
            <div id="kort-telefonnummer"></div>
            <div id="kort-email"></div>
            <div id="kort-dato"></div>
        </div>
    </div>

    </div>

    <script>
        let kortNavn = document.getElementById("kort-navn");
        let kortKjonn = document.getElementById("kort-kjonn");
        let kortStilling = document.getElementById("kort-stilling");
        let kortAdresse = document.getElementById("kort-adresse");
        let kortTelefonnummer = document.getElementById("kort-telefonnummer");
        let kortEmail = document.getElementById("kort-email");
        let kortDato = document.getElementById("kort-dato");

        let kort = document.getElementById("kort");


        function oppdater(element) {
            if (element == 'stil') {
                kort.style.backgroundColor = document.getElementById("bakgrunnsfargeInp").value;
                kort.style.color = document.getElementById("tekstfargeInp").value;
                kort.style.borderColor = document.getElementById("kantfargeInp").value;
                kort.style.borderWidth = "5px";
                kort.style.borderStyle = document.getElementById("kanttype" + displayRadioValue()).value;
            }
            else {
                document.getElementById("kort-" + element).innerHTML = document.getElementById(element + "Inp").value;
            }
        }

        function displayRadioValue() {
            var element = document.getElementsByName('kanttype');

            for (i = 0; i < element.length; i++) {
                if (element[i].checked) {
                    return i + 1;
                }
            }
        }

        draModus(document.getElementById("kort-navn"));
        draModus(document.getElementById("kort-kjonn"));
        draModus(document.getElementById("kort-stilling"));
        draModus(document.getElementById("kort-adresse"));
        draModus(document.getElementById("kort-telefonnummer"));
        draModus(document.getElementById("kort-email"));
        draModus(document.getElementById("kort-dato"));

        function draModus(elementet) {
            let pos1 = 0;
            let pos2 = 0;
            let pos3 = 0;
            let pos4 = 0;

            elementet.onmousedown = startDraModus;


            function startDraModus(event) {
                event.preventDefault();
                pos3 = event.clientX;
                pos4 = event.clientY;
                document.onmouseup = draModusAv;
                document.onmousemove = draElementet;
            }

            function draElementet(event) {
                event.preventDefault();
                pos1 = pos3 - event.clientX;
                pos2 = pos4 - event.clientY;
                pos3 = event.clientX;
                pos4 = event.clientY;
                elementet.style.top = (elementet.offsetTop - pos2) + "px";
                elementet.style.left = (elementet.offsetLeft - pos1) + "px";
            }

            function draModusAv() {
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }
    </script>
</body>

</html>