<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stilark.css">
    <title>Loddtrekning</title>
</head>
<style>
</style>

<body>
    <div class="overskrift">
        <h1>
            Loddtrekning
        </h1>
    </div>

    <input id="antall" type="number" placeholder="Antall lodd solgt">
    <input id="dittTall" type="text" placeholder="Hvilke(t) lodd har du? (bruk komma mellom loddene)">

    <br>

    <button id="knapp1" onclick="reset(), svar(), trekk1()">Trekk 1</button>
    <button id="knapp2" onclick="reset(), svar(), trekk2()">Trekk 2</button>
    <button id="knapp3" onclick="reset(), svar(), trekk3()">Trekk 3</button>
    <button id="sjekk" onclick="svar2(), sjekk()">Sjekk om du vant</button>
    <button id="reset" onclick="reset()">Reset</button>

    <p id="Svar"></p>
    <p id="Svar2"></p>

    <script>
        function svar() {
            var svar = document.getElementById("Svar");
            svar.style.color = "#00aaff";
            svar.style.backgroundColor = "white";
            svar.style.padding = "10px";
            svar.style.fontWeight = "bold";
            svar.style.width = "fit-content";
            svar.style.borderRadius = "10px";
            svar.style.fontSize = "15px";
            svar.style.margin = "auto";
        }
        function svar2() {
            var svar2 = document.getElementById("Svar2");
            svar2.style.color = "#00ff6c";
            svar2.style.backgroundColor = "white";
            svar2.style.padding = "10px";
            svar2.style.fontWeight = "bold";
            svar2.style.width = "fit-content";
            svar2.style.borderRadius = "10px";
            svar2.style.fontSize = "15px";
            svar2.style.margin = "auto";
            svar2.style.marginTop = "30px";
        }
        function reset() {
            document.getElementById("Svar").innerHTML = "";
            var svar = document.getElementById("Svar");
            svar.style.backgroundColor = "transparent";

            document.getElementById("Svar2").innerHTML = "";
            var svar2 = document.getElementById("Svar2");
            svar2.style.backgroundColor = "transparent";
        }

        function trekk1() {

            var tall = document.getElementById("antall").value;

            if (tall >= 1) {
                var tilfeldigTall1 = Math.floor(Math.random() * tall) + 1;

                document.getElementById("Svar").innerHTML = "Vinnerloddet er: " + tilfeldigTall1;
            }

            else {
                document.getElementById("Svar").innerHTML = "Du kan ikke trekke flere lodd enn det ble solgt";
            }
        }

        function trekk2() {
            var tall = document.getElementById("antall").value;

            if (tall >= 2) {
                var tilfeldigTall1 = Math.floor(Math.random() * tall) + 1;
                var tilfeldigTall2 = Math.floor(Math.random() * tall) + 1;
                while (tilfeldigTall1 == tilfeldigTall2) {
                    tilfeldigTall2 = Math.floor(Math.random() * tall) + 1;
                }

                document.getElementById("Svar").innerHTML = "Vinnerloddene er: " + tilfeldigTall1 + ", " + tilfeldigTall2;
            }

            else {
                document.getElementById("Svar").innerHTML = "Du kan ikke trekke flere lodd enn det ble solgt";
            }
        }

        function trekk3() {
            var tall = document.getElementById("antall").value;

            if (tall >= 3) {
                var tilfeldigTall1 = Math.floor(Math.random() * tall) + 1;
                var tilfeldigTall2 = Math.floor(Math.random() * tall) + 1;
                while (tilfeldigTall2 == tilfeldigTall1) {
                    tilfeldigTall2 = Math.floor(Math.random() * tall) + 1;
                }
                var tilfeldigTall3 = Math.floor(Math.random() * tall) + 1;
                while (tilfeldigTall3 == tilfeldigTall1) {
                    tilfeldigTall3 = Math.floor(Math.random() * tall) + 1;
                    while (tilfeldigTall3 == tilfeldigTall2) {
                        tilfeldigTall3 = Math.floor(Math.random() * tall) + 1;
                    }
                }
                while (tilfeldigTall3 == tilfeldigTall2) {
                    tilfeldigTall3 = Math.floor(Math.random() * tall) + 1;
                    while (tilfeldigTall3 == tilfeldigTall1) {
                        tilfeldigTall3 = Math.floor(Math.random() * tall) + 1;
                    }
                }

                document.getElementById("Svar").innerHTML = "Vinnerloddene er: " + tilfeldigTall1 + ", " + tilfeldigTall2 + ", " + tilfeldigTall3;
            }

            else {
                document.getElementById("Svar").innerHTML = "Du kan ikke trekke flere lodd enn det ble solgt";
            }
        }



        function sjekk() {
            var svaret = "Vinnerloddene er: 1, 2, 3";

            if (svaret.indexOf(":") > 0) {

                var loddene1 = svaret.split(":");
                loddene1.shift();
                var arrloddene = loddene1.toString();
                var loddene2 = arrloddene.split(",");

                var vinnerlodd1 = "....";
                var vinnerlodd2 = "....";
                var vinnerlodd3 = "....";

                vinnerlodd1 = loddene2[0];

                if (loddene2.length >= 1) {
                    vinnerlodd2 = loddene2[1];
                }
                if (loddene2.length >= 2) {
                    vinnerlodd3 = loddene2[2];
                }

                var dittLodd = String(document.getElementById("dittTall").value);
                const arrayLodd = dittLodd;

                var lodd1 = "";
                var lodd2 = "";
                var lodd3 = "";
                
                var x1 = 0;
                var x2 = 0;
                var x3 = 0;
               
                console.log("vinnerlodd 1 = " + vinnerlodd1);
                console.log("vinnerlodd 2 = " + vinnerlodd2);
                console.log("vinnerlodd 3 = " + vinnerlodd3);
                console.log(arrayLodd);

                if (arrayLodd.includes(vinnerlodd1)) {
                    lodd1 = vinnerlodd1;
                    x1 = 1;
                    console.log("dette er 1");
                }

                if (arrayLodd.includes(vinnerlodd2)) {
                    lodd2 = vinnerlodd2;
                    x2 = 3;
                    console.log("dette er 2");
                }

                if (arrayLodd.includes(vinnerlodd3)) {
                    lodd3 = vinnerlodd3;
                    x3 = 7;
                    console.log("dette er 3");
                }

                if ((x1 + x2 + x3) == 1) {
                    document.getElementById("Svar2").innerHTML = "Du vant med loddet: " + lodd1;
                }
                else if ((x1 + x2 + x3) == 4) {
                    document.getElementById("Svar2").innerHTML = "Du vant med loddene: " + lodd1 + " og " + lodd2;
                }
                else if ((x1 + x2 + x3) == 8) {
                    document.getElementById("Svar2").innerHTML = "Du vant med loddene: " + lodd1 + " og " + lodd3;
                }

                else if ((x1 + x2 + x3) == 3) {
                    document.getElementById("Svar2").innerHTML = "Du vant med loddet: " + lodd2;
                }
                else if ((x1 + x2 + x3) == 10) {
                    document.getElementById("Svar2").innerHTML = "Du vant med loddene: " + lodd2 + " og " + lodd3;
                }
                
                else if ((x1 + x2 + x3) == 7) {
                    document.getElementById("Svar2").innerHTML = "Du vant med loddet: " + lodd3;
                }
                

                else if ((x1 + x2 + x3) > 1) {
                    document.getElementById("Svar2").innerHTML = "Du vant med loddene: " + lodd1 + lodd2 + lodd3;
                }

                else {
                    document.getElementById("Svar2").innerHTML = "Du tapte";
                }
            }
            else {
                document.getElementById("Svar2").innerHTML = "Du kan ikke sjekke loddene";
            }
        }

    </script>
</body>

</html>